"use strict";function siema(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.querySelector(".carousel");if(null!==o){var i=new Siema({selector:"."+e,duration:1e3,easing:"ease-in-out",perPage:{600:2,900:3,1200:4},loop:!0,draggable:n});Siema.prototype.createButtons=function(){var e=document.createElement("button");e.classList.add("btn","btn--carousel","carousel__next"),o.appendChild(e);var t=document.createElement("button");t.classList.add("btn","btn--carousel","carousel__prev"),o.appendChild(t)};var s=document.querySelector("."+e);if(Siema.prototype.bindButtons=function(){var e=document.querySelector(".carousel__prev"),t=document.querySelector(".carousel__next");e.addEventListener("click",function(){return i.prev()}),t.addEventListener("click",function(){return i.next()})},i.createButtons(),i.bindButtons(),window.addEventListener("resize",function(){clearTimeout(timeout),timeout=setTimeout(function(){i.createButtons(),i.bindButtons()},delay)}),t){var a=setInterval(function(){i.next()},5e3);s.addEventListener("mouseenter",function(){return clearInterval(a)}),s.addEventListener("mouseleave",function(){return a=setInterval(function(){i.next()},5e3)})}}}var timeout=!1,delay=250,header=new XMLHttpRequest;header.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.querySelector(".header").innerHTML=this.responseText)},header.open("GET","header.html",!0),header.send();var footer=new XMLHttpRequest;footer.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.querySelector(".footer").innerHTML=this.responseText)},footer.open("GET","footer.html",!0),footer.send();var phrases=["des communes","des provinces"],headline=new RotateSlogan(phrases,"rw",6e3);headline.rotatePhrases();var toTopElement=document.querySelector(".to-top__link");window.addEventListener("scroll",function(){clearTimeout(timeout),timeout=setTimeout(function(){var e=window.scrollY;e<200?toTopElement.classList.remove("to-top__link--visible"):e>=200&&toTopElement.classList.add("to-top__link--visible")},delay)}),toTopElement.addEventListener("click",function(e){e.preventDefault(),scrollTo(0,1e3)});var inputCandidates=document.querySelector(".input__text");if(null!==inputCandidates){var inputCandidatesList=[{code:1e3,commune:"Bruxelles",candidats:["Olivier","Wouter"]},{code:1050,commune:"Ixelles",candidats:["Gilles","Christophe"]},{code:3e3,commune:"Leuven",candidats:["Etienne","Sandro"]}],candidates=function(e){new Awesomplete(inputCandidates,{list:e,minChars:1,maxItems:15})},flattenArray=function(e,t){return e.concat(t)},fullList=inputCandidatesList.map(function(e){return Object.keys(e).map(function(t){return e[t]}).reduce(flattenArray,[])}).reduce(flattenArray);candidates(fullList)}var yt_api_key="AIzaSyAXUGrOIVhDVVhldzfuPfTha2TDdolKMQk",videos=document.querySelectorAll(".youtube"),mainEl=document.querySelector("main");videos.forEach(function(e){var t=e.dataset.href.split("="),n="https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id="+(t=t[t.length-1])+"&key="+yt_api_key,o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);e.style.background="url("+(void 0!==t.items[0].snippet.thumbnails.standard?t.items[0].snippet.thumbnails.standard.url:t.items[0].snippet.thumbnails.high.url)+") center center no-repeat",e.style.backgroundSize="cover",e.addEventListener("click",function(n){var o=document.querySelector(".video-box");null!==o&&mainEl.removeChild(o),createVidBox(t,e.dataset.href),document.querySelector(".video-box").addEventListener("click",function(e){document.querySelector(".video-box").classList.add("video-box--close"),setTimeout(function(){mainEl.removeChild(document.querySelector(".video-box"))},1e3)})})}},o.open("GET",n,!0),o.send()});var createVidBox=function(e,t){e=e.items[0];var n=new Date(e.snippet.publishedAt),o=n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear();console.log(e);var i='\n  \x3c!-- close button --\x3e\n  <button class="video-box__close">X</button>\n\n  \x3c!-- video --\x3e\n  <div class="video-box__video">\n    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+e.id+'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>\n  </div>\n\n  \x3c!-- controls --\x3e\n  <div class="video-box__controls">\n\n    \x3c!-- header --\x3e\n    <div class="video-box__header">\n      <h1 class="video-box__header__title">'+e.snippet.title+'</h1>\n      <div class="video-box__header__stats">\n        <h2 class="video-box__header__stats__views">\n          <img src="assets/img/views.svg" alt="" class="video-box__header__stats__icon video-box__header__stats__icon--large"> '+e.statistics.viewCount+'\n        </h2>\n        <h6 class="video-box__header__stats__likes '+(void 0==e.statistics.likeCount?"u-hidden":"")+'">\n          <img src="assets/img/thumbs-up.svg" alt="" class="video-box__header__stats__icon"> '+e.statistics.likeCount+'\n        </h6>\n        <h6 class="video-box__header__stats__dislikes '+(void 0==e.statistics.likeCount?"u-hidden":"")+'">\n          <img src="assets/img/thumbs-down.svg" alt="" class="video-box__header__stats__icon"> '+e.statistics.dislikeCount+'\n        </h6>\n      </div>\n    </div>\n\n    \x3c!-- meta --\x3e\n    <div class="video-box__meta">\n    <div class="video-box__meta__subscribe"></div>\n      <div class="video-box__meta__share">\n        <a href="http://www.facebook.com/sharer.php?u='+t+'" class="video-box__meta__share__button video-box__meta__share__button--facebook">Share on Facebook</a>\n        <a href="https://twitter.com/intent/tweet?text='+e.snippet.title+"&url="+t+'" class="video-box__meta__share__button video-box__meta__share__button--twitter">Share on Twitter</a>\n      </div>\n    </div>\n\n    \x3c!-- Description --\x3e\n    <div class="video-box__description">\n      <p class="video-box__description__date">Ajout√©e le '+o+'\n      </p>\n      <p class="video-box__description__description">'+e.snippet.description+"</p>\n    </div>\n  </div>\n  ",s=document.createElement("div");s.classList.add("video-box"),s.innerHTML=i,mainEl.appendChild(s);var a=document.querySelector(".video-box__meta__subscribe"),r={channel:"ocentre",layout:"full"};gapi.ytsubscribe.render(a,r)};